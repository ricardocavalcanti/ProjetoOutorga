<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Requerimento</title>
	<h:outputScript library="js" name="scripts.js" />
</h:head>
<h:body>
	<p:growl id="mensagem" />

	<h:form id="formListagem">

		<p:panel header="Outorgante - Listagem">

			<p:dataTable id="tabela" emptyMessage="Nenhum registro encontrado."
				paginator="true" value="#{outorganteBean.listaOutorgante}"
				var="listaOutorgantes" rows="10">
				<f:facet name="footer">
					<p:commandButton value="Novo" oncomplete="PF('dialogo').show();"
						actionListener="#{outorganteBean.novo}">
						<f:actionListener
							type="org.omnifaces.eventlistener.ResetInputAjaxActionListener" />
						<!-- Código para limpar validação vermelha nos campos ao cadastrar -->
					</p:commandButton>
				</f:facet>

				<p:column headerText="Processo APAC"
					sortBy="#{listaOutorgantes.processoApac}"
					filterBy="#{listaOutorgantes.processoApac}">
					<h:outputText value="#{listaOutorgantes.processoApac}" />
				</p:column>

				<p:column headerText="Processo CPRH">
					<h:outputText value="#{listaOutorgantes.processoCprh}" />
				</p:column>

				<p:column headerText="Nome/Razao">
					<h:outputText value="#{listaOutorgantes.nomeRazao}" />
				</p:column>

				<p:column headerText="Telefone">
					<h:outputText value="#{listaOutorgantes.telefone}" />
				</p:column>

				<p:column headerText="Email">
					<h:outputText value="#{listaOutorgantes.email}" />
				</p:column>

				<p:column headerText="Modalidade">
					<h:outputText value="#{listaOutorgantes.modalidade}" />
				</p:column>

				<p:column headerText="Opções">

					<p:commandButton icon="ui-icon-trash"
						actionListener="#{outorganteBean.excluir}"
						update=":mensagem :formListagem:tabela">
						<p:confirm header="Apagar dados" message="Você tem certeza?"
							icon="ui-icon-alert" />
						<f:attribute name="outorganteSelecionado"
							value="#{listaOutorgantes}" />
					</p:commandButton>

					<p:commandButton icon="ui-icon-pencil"
						actionListener="#{outorganteBean.editar}"
						update=":mensagem :formCadastro:painel"
						oncomplete="PF('dialogo').show()">
						<f:attribute name="outorganteSelecionado"
							value="#{listaOutorgantes}" />
						<f:actionListener
							type="org.omnifaces.eventlistener.ResetInputAjaxActionListener" />
						<!-- Código para limpar validação vermelha nos campos ao editar -->
					</p:commandButton>
				</p:column>
			</p:dataTable>

			<p:confirmDialog global="true">
				<p:commandButton value="Sim" type="button"
					styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
				<p:commandButton value="Não" type="button"
					styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
			</p:confirmDialog>
		</p:panel>
	</h:form>

	<p:dialog header="Cadastro Outorgante" widgetVar="dialogo" draggable="false" resizable="false" modal="true" closable="false">

		<h:form id="CadastroClientePF">			

			<p:tabView id="tabClientes">

				<p:tab id="processo" title="Processo">				
				<h:panelGrid columns="2">
						<h:outputText value="Processo APAC: " />
						<p:inputText id="processoApac" label="processoApac" />

						<h:outputText value="Processo CPRH:" />
						<p:inputText id="processoCprh" label="processoCprh" />
				</h:panelGrid>
				</p:tab>
				
				<p:tab id="dadosClientes" title="Dados">
				<h:panelGrid columns="2">						

						<h:outputText value="Nome/Razão Social:" />
						<p:inputText id="nomeOutorgante" label="nomeOutorgante" />
						
						<h:outputText value="CPF/CNPJ:" />
						<p:inputText id="cpfCnpj" label="cpfCnpj" />
						
						<h:outputText value="Telefone:" />
						<p:inputText id="telefone" label="telefone" />
						
						<h:outputText value="Email:" />
						<p:inputText id="email" label="email" />				
						
				</h:panelGrid>					
				</p:tab>

				<p:tab id="enderecoClientes" title="Endereço">
				
					<h:panelGrid columns="4">
						<h:outputText value="Rua:" />
						<p:inputText id="rua" label="rua" size="40" maxlength="30"/>				
				
						<h:outputText value="Bairro:" />
						<p:inputText id="bairro" label="bairro" size="20" maxlength="20"/>
						
						<h:outputText value="Cidade:" />
						<p:inputText id="cidade" label="cidade" size="40" maxlength="30"/>						

						<h:outputText value="Número:" />
						<p:inputText id="numero" label="numero" size="3" maxlength="4"/>							

						<h:outputText value="Complemento:" />
						<p:inputText id="complemento" label="Complemento"/>													

						<h:outputText value="UF: " />
						<p:inputText id="uf" label="uf"  size="3" maxlength="2"/>						
					</h:panelGrid>
				</p:tab>

				<p:tab id="contato" title="Tipo">
					<h:panelGrid columns="5">
					<p:outputLabel for="tipoRequerimento" value="Tipo do Requerimento:" />
				<p:selectOneMenu id="tipoRequerimento" value="#{outorganteBean.outorgante.tipoRequerimento}" required="true" requiredMessage="O campo 'Tipo' é obrigatório">
				         <f:selectItem itemValue="O" itemLabel="Outorga"/>
				         <f:selectItem itemValue="R" itemLabel="Renovação" />
				         <f:selectItem itemValue="T" itemLabel="Transferência"/>
				         <f:selectItem itemValue="A" itemLabel="Alteração"/>
				         <f:selectItem itemValue="N" itemLabel="Outros"/>
				</p:selectOneMenu>						
					</h:panelGrid>
				</p:tab>

				<p:tab id="tecnico" title="Técnico">
					<h:panelGrid columns="2">
					
					<h:outputText value="Registro:" />
					<p:inputText id="registro" label="registro" size="5"/>
					
					<h:outputText value="Nome:" />
					<p:inputText id="nomeTecnico" label="nomeTecnico" />					
					
					<h:outputText value="Telefone:" />
					<p:inputText id="telefoneTecnico" label="telefoneTecnico" />
					
					<h:outputText value="Email:" />
					<p:inputText id="emailTecnico" label="emailTecnico" />
						
					</h:panelGrid>
				</p:tab>

				<p:tab id="finalidade" title="Finalidade">
					<h:panelGrid columns="4">
					
				<p:selectBooleanCheckbox id="captacao" value="#{outorganteBean.outorgante.captacao}"/>
				<p:outputLabel for="captacao" value="Captacao" /> 
			
					<p:selectBooleanCheckbox id="diluicao" value="#{outorganteBean.outorgante.diluicao}"/>
				<p:outputLabel for="diluicao" value="Diluição" /> 
			
				<p:selectBooleanCheckbox id="drdh" value="#{outorganteBean.outorgante.drdh}"/>
				<p:outputLabel for="drdh" value="DRDH" /> 
				
				<p:selectBooleanCheckbox id="construçãoObra" value="#{outorganteBean.outorgante.construçãoObra}"/>
				<p:outputLabel for="construçãoObra" value="Construção Obra" /> 
				
				<p:selectBooleanCheckbox id="irrigacao" value="#{outorganteBean.outorgante.irrigacao}"/>
				<p:outputLabel for="irrigacao" value="Construção Obra" /> 
				
				<p:selectBooleanCheckbox id="abastecimentoInCom" value="#{outorganteBean.outorgante.abastecimentoInCom}"/>
				<p:outputLabel for="abastecimentoInCom" value="Abast.Ind/Comer" /> 
				
				<p:selectBooleanCheckbox id="dessentacaoAnimal" value="#{outorganteBean.outorgante.dessentacaoAnimal}"/>
				<p:outputLabel for="dessentacaoAnimal" value="Dessendentação Animal" /> 
				
				<p:selectBooleanCheckbox id="abastecimentoHum" value="#{outorganteBean.outorgante.abastecimentoHum}"/>
				<p:outputLabel for="abastecimentoHum" value="Abast.Humano" /> 
				
				<p:selectBooleanCheckbox id="aquiculturaCarcini" value="#{outorganteBean.outorgante.aquiculturaCarcini}"/>
				<p:outputLabel for="aquiculturaCarcini" value="Aquicultura/Carcinicultura" /> 				
				
				<p:selectBooleanCheckbox id="ponte" value="#{outorganteBean.outorgante.ponte}"/>
				<p:outputLabel for="ponte" value="Ponte" /> 
			
				<p:selectBooleanCheckbox id="travessiaDutos" value="#{outorganteBean.outorgante.travessiaDutos}"/>
				<p:outputLabel for="travessiaDutos" value="Travessia de Dutos" /> 
				
				<p:selectBooleanCheckbox id="terraplanagem" value="#{outorganteBean.outorgante.terraplanagem}"/>
				<p:outputLabel for="terraplanagem" value="Terraplanagem" /> 
				
				<p:selectBooleanCheckbox id="geracaoEnergia" value="#{outorganteBean.outorgante.geracaoEnergia}"/>
				<p:outputLabel for="geracaoEnergia" value="Geracao de Energia" /> 
				
					<p:selectBooleanCheckbox id="lancamentoEfluentes" value="#{outorganteBean.outorgante.lancamentoEfluentes}"/>
				<p:outputLabel for="lancamentoEfluentes" value="Lancamento de Efluentes" /> 
			
				<p:selectBooleanCheckbox id="extracaoMineral" value="#{outorganteBean.outorgante.extracaoMineral}"/>
				<p:outputLabel for="extracaoMineral" value="Extracao Mineral" /> 
				
				<p:selectBooleanCheckbox id="obrasDrenagem" value="#{outorganteBean.outorgante.obrasDrenagem}"/>
				<p:outputLabel for="obrasDrenagem" value="Obras de Drenagem" /> 
				
				<p:selectBooleanCheckbox id="revestimentoCanal" value="#{outorganteBean.outorgante.revestimentoCanal}"/>
				<p:outputLabel for="revestimentoCanal" value="Revestimento de Canal" /> 
				
				<p:selectBooleanCheckbox id="dique" value="#{outorganteBean.outorgante.dique}"/>
				<p:outputLabel for="dique" value="Dique" /> 		
							
               </h:panelGrid>
           </p:tab>
           
           <p:tab id="outrasModalidades" title="Outras Modalidades">
			<h:panelGrid columns="2">					
					
				<h:outputText value="Outros:" />
				<p:inputText id="outros" label="outros" size="15" maxlength="20" />
					
			    <p:outputLabel for="barragem" value="Barragem:" />
				<p:selectOneMenu id="barragem" value="#{outorganteBean.outorgante.barragem}" required="true" requiredMessage="O campo 'Tipo' é obrigatório">
				         <f:selectItem itemValue="1" itemLabel="V>500.000m³"/>
				         <f:selectItem itemValue="2" itemLabel="V≥500.000m³"/>				       			      
				</p:selectOneMenu>									
					</h:panelGrid>
				</p:tab>
           
           
</p:tabView>

			<h:panelGrid columns="3">
				<p:commandButton value="Salvar" actionListener="#{outorganteBean.salvar}"/>
				<p:commandButton value="Fechar" oncomplete="PF('dialogo').hide()" />
			</h:panelGrid>
		</h:form>
	</p:dialog>
</h:body>
</html>